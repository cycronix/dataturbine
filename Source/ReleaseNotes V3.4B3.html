<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>RBNB Release Notes</title>
  <meta name="Author" content="Matt Miller">
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1265.21">
  <style type="text/css">
    p.p2 {margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times}
    p.p3 {margin: 0.0px 0.0px 12.0px 0.0px; font: 12.0px Times}
    p.p4 {margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times}
    p.p5 {margin: 0.0px 0.0px 0.0px 36.0px; text-indent: -36.0px; font: 12.0px Times}
    p.p6 {margin: 0.0px 0.0px 0.0px 36.0px; text-indent: -36.0px; font: 12.0px Times; min-height: 14.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 36.0px; text-indent: -36.0px; font: 14.0px Times; min-height: 18.0px}
    p.p8 {margin: 0.0px 0.0px 0.0px 36.0px; text-indent: -36.0px; font: 24.0px Times; min-height: 29.0px}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; min-height: 14.0px}
    p.p11 {margin: 0.0px 0.0px 9.6px 0.0px; font: 12.0px Times}
    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier}
    p.p15 {margin: 0.0px 0.0px 12.0px 31.7px; font: 12.0px Courier}
    li.li3 {margin: 0.0px 0.0px 12.0px 0.0px; font: 12.0px Times}
    li.li9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times}
    li.li12 {margin: 0.0px 0.0px 7.7px 0.0px; font: 12.0px Times}
    li.li13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier}
    span.s1 {font: 12.0px Courier}
    span.s2 {text-decoration: underline ; color: #0000ee}
    span.s3 {font: 12.0px Times}
    span.s4 {font: 8.0px Times}
    span.Apple-tab-span {white-space:pre}
    ul.ul1 {list-style-type: disc}
    ul.ul2 {list-style-type: circle}
  </style>
</head>
<body>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times"><b>RBNB Release Notes</b></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times"><b>RBNB V3.4 Release Notes</b></h1>
<p class="p2"><b>V3.4B2 to V3.4B3 Changes</b></p>
<p class="p3">V3.4B3 released 06/10/2015.</p>
<p class="p4"><b>Server</b></p>
<p class="p5">•<span class="Apple-tab-span">	</span>Stability tweak for potential source/sink thread contention during 100% CPU usage</p>
<p class="p6"><br></p>
<p class="p4"><b>WebScan</b></p>
<p class="p5">•<span class="Apple-tab-span">	</span>Updated WebScan Version (new scaling options, better IE compatibility, performance tuning)</p>
<p class="p7"><b></b><br></p>
<p class="p4"><b>Applications</b></p>
<p class="p5">•<span class="Apple-tab-span">	</span>Flight Track application updates (TrackData/TrackKML), handle empty/NaN input better</p>
<p class="p6"><br></p>
<p class="p4"><b>Miscellaneous</b></p>
<p class="p5">•<span class="Apple-tab-span">	</span>Updated source build (added memory for javadoc build, fixed installer desktop icon)</p>
<p class="p5">•<span class="Apple-tab-span">	</span>New JUNIT tests, modeled after old Matlab regression suite</p>
<p class="p8"><br></p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.4B1 to V3.4B2 Changes</b></h2>
<p class="p3">V3.4B2 released 11/20/2014.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebScan</b></h3>
<ul class="ul1">
  <li class="li9">New HTML5 webapp data display application</li>
  <li class="li9">Runs under WebTurbine server as http://localhost/webscan/webscan.htm</li>
</ul>
<p class="p10"><br></p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebTurbine</b></h3>
<ul class="ul1">
  <li class="li9">Update Tomcat from 7.0.19 to 7.0.53 (most recent production release)</li>
</ul>
<p class="p10"><br></p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Applications</b></h3>
<ul class="ul1">
  <li class="li9">New Utility: DTlogger parses log file of CSV strings into DT channels.</li>
  <li class="li9">UDPCaster, UDPCapture: added -p option to digitally sign packets</li>
  <li class="li9">UDPCapture: added -w flag to parse data into numerical values</li>
</ul>
<p class="p10"><br></p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.3 to V3.4B1 Changes</b></h2>
<p class="p3">V3.4B1 released 11/13/2013.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Server</b></h3>
<ul class="ul1">
  <li class="li9">Stability tweeks to avoid potential deadlocks, null pointer exceptions</li>
  <li class="li9">Fix wildcard/absolute requests to find all channels.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlot</b></h3>
<ul class="ul1">
  <li class="li9">Under Java 1.7, fixed lockup plot mode to table mode</li>
  <li class="li9">Include user data in export</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebTurbine</b></h3>
<ul class="ul1">
  <li class="li9">Webturbine add f=b for fetch both time and data</li>
  <li class="li9">Fix ability to find plugin/source chans</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Applications</b></h3>
<ul class="ul1">
  <li class="li9">New Utility: HealthMon.java monitors DT server to periodically produce status/exception report.</li>
  <li class="li9">ResamplePlugin, pre-pad to avoid lowpass filter transient and delay.</li>
  <li class="li9">Timedrive extended hard-coded year-selection limit from 2012 to 2027.</li>
  <li class="li9">TrackKML: tweeks to work with GE browser plugin</li>
</ul>
<p class="p10"><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times"><b>RBNB V3.3 Release Notes</b></h1>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.3 Production Release</b></h2>
<p class="p11">V3.3 released 11/13/2013. This release corresponds to RBNB V3.3B1 (forked with no new changes).</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.2 to V3.3B1 Changes</b></h2>
<p class="p11">V3.3B1 released on 05/15/2013.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Server</b></h3>
<ul class="ul1">
  <li class="li12">Check for "pingValue" overflow (in ACO.java); reset pingValue to 0 when it reaches its max value.</li>
  <li class="li12">Ensure filesystem sync on archive file updates (Source/DataTurbine/com/rbnb/api/FileSet.java).</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>OSDT-Matlab interface</b></h3>
<ul class="ul1">
  <li class="li12">Add "Matlab_Toolkit", a new Matlab/DataTurbine interface library.</li>
  <li class="li12">Moved older Matlab source to "Matlab_Test" (a more appropriate name, as its primary utility is for regression testing).</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Applications</b></h3>
<ul class="ul1">
  <li class="li12">New utility: Source/Applications/PlugIns/dtList.java plugin provides text list of DT sources and channels</li>
  <li class="li12">New utility: Source/Applications/Examples/dtParseFile.java reads text file line by line to DT source</li>
  <li class="li12">Applications requiring JMF (Java Media Framework) have been moved to separate folder, Source/Applications_JMF. They are not built by default, as they require a separate download of the JMF library, which is getting hard to find for some modern OS versions.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Version control using Bitbucket and Git</b></h3>
<p class="p11">This is the first full release conducted since transitioning OSDT to Bitbucket and Git for version control. A few tweaks to support this change:</p>
<ul class="ul1">
  <li class="li12">Added "README.txt" to OSDT repository's root directory; the content of this file is displayed at the main OSDT repository web page in Bitbucket</li>
  <li class="li12">Added ".gitignore" file to OSDT repository's root directory; this file specifies certain files and directories that shouldn't be added to the repository.</li>
  <li class="li12">Removed build.number files from repository.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Miscellaneous</b></h3>
<ul class="ul1">
  <li class="li12">Added compiler flag (in Source/Applications/PlugIns/build.xml) to allow build under JDK7; a quasi-obsolete reference to com.sun.image.codec.jpeg library requires this patch to compile.</li>
  <li class="li12">Removed some strange non-printing characters from comments within source code. Apparently benign on some systems, was causing compile errors on JDK7.</li>
</ul>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times"><b>RBNB V3.2 Release Notes</b></h1>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.2 Production Release</b></h2>
<p class="p11">V3.2 released 09/28/2012. This release corresponds to RBNB Subversion repository revision number 292. See repository change log for details. There have been several well tested changes relative to last beta release, i.e. V3.2B6:</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Server</b></h3>
<ul class="ul1">
  <li class="li12">Added failsafe second-pass recursive delete-archive after short delay if an archive fails to delete. Some systems sometimes would fail to clean up old archives on close.</li>
  <li class="li12">Added catch *any* exception on Timer(). One could slip thru doing Android port testing.</li>
  <li class="li12">Add warning message for IPV6 (vs IPV4) address parsing. Eventually need to handle IPV6 addresses.</li>
  <li class="li12">Handle Date parsing exception. The build-date info field had a parsing exception in latest Android JVM. Simple change to use current date in this case.<span class="Apple-converted-space"> </span></li>
  <li class="li12">Compress point times to start+duration if it is net savings. Activated by -DcompressTol=X system property flag, where X is point-to-point relative time-tolerance.</li>
  <li class="li12">Tweek to improve reliability of establishing shortcut routes.</li>
  <li class="li12">Added flag to specify load-archive timeout (to give time for very large archives to load). Example: java -DarchiveLoadTimeout=300000 -jar rbnb.jar</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlot</b></h3>
<ul class="ul1">
  <li class="li12">Add new File menu item: "Default ordinate settings..."; to specify the default scaling.</li>
  <li class="li12">Removed unneeded mouse events from channel selection dialog to fix undesired channel selection events.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>CSVDemux</b></h3>
<ul class="ul1">
  <li class="li3">CSV output string is now flushed to channel "_IWG1" (same as XMLDemux).</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Known Issues</b></h3>
<ul class="ul1">
  <li class="li3">Certain recent version 64-bit Java JVMs have been noted to crash upon launch of RBNB server, most notably on Macs and Linux. This issue continues to be investigated. Work-around is to use older or 32 bit JVM.<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.2B5 to V3.2B6 Changes</b></h2>
<p class="p3">V3.2B6 released 08/05/2011<br>
This release corresponds to RBNB Subversion repository revision number 257</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Updated Java version requirements</b></h3>
<ul class="ul1">
  <li class="li9">DataTurbine server requires Java 1.4 to run (needed to support updated socket timeout exception handling).<span class="Apple-converted-space"> </span></li>
  <li class="li9">Updated Tomcat 7.0.19 requires Java 1.6.<span class="Apple-converted-space"> </span></li>
  <li class="li3">All other client applications require Java 1.5.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Server</b></h3>
<ul class="ul1">
  <li class="li9">Updated socket timeout exception handling. Added to support running the server under Android 3.1.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Changes to support client reconnect logic. A source or routed child server with a name beginning with dot (e.g. ".myName") will kick a pre-existing client with the same name. This allows roaming clients to reconnect to orphaned prior instances of themselves. (Eventually we will want a better authentication scheme than the dot-name syntax.)<span class="Apple-converted-space"> </span></li>
  <li class="li9">Added deadlock cleanup.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Fix for wild-card time mode subscriptions. A previously broken case would be subscribe-from-oldest for Metrics for example. Added new matlab test script for wild-card time subscription bug fix. (Matlab/testwctimesub.m)<span class="Apple-converted-space"> </span></li>
  <li class="li9">Added check to not actually generate logging info when logging is turned off.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Fix small but steady memory leak. Would not amount enough to matter in most cases, but for a small-memory system that continually checks over long durations, would cause out of memory problems.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Avoid unnecessary DNS/IP lookup upon client/routing connection when no authorization record is specified. This will particularly speed up cases where DNS is slow or unavailable.<span class="Apple-converted-space"> </span></li>
  <li class="li9">"localhost" definition cleanup. Some recent flavors of Linux have begun treating the explicit "localhost" behavior differently than the default behavior that we have historically expected, i.e. to listen on the external network interface(s) vs *only* accept local connections from clients that specifically specify "localhost".<span class="Apple-converted-space"> </span></li>
  <li class="li9">Make routing more robust. A child server normally goes into auto-reconnect mode when it fails to connect, but it would give up trying if it were rejected due to a “another server with same name exists” error. Changed code to continue auto-reconnect mode in this case – this can be caused by parent lag in cleaning up previous connection and would result in failed reconnect that otherwise could succeed on subsequent attempt. Note that this does not cause duplicate names to occur – it only waits for the old duplicate to clear out.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Better error checking for child routes with duplicate names. This could happen if two child RBNBs with same "address" field (e.g. the ubiquitous "localhost" or "127.0.0.1") tried to connect. When it did happen the parent server routing map would be munged and may require restarting to fix. Also relieved the old restriction that a child not have the same name as a parent, e.g. Foo/Foo is fine so long as names are not at same level in hierarchy.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Added enhanced code to enable an RBNB server to wait for a parent route (-p option) versus exiting at startup if parent is unreachable at the time.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebTurbine/Tomcat updates</b></h3>
<ul class="ul1">
  <li class="li9">Update Tomcat distribution from 6.0.18 to 7.0.19. (Developer notes on performing this Tomcat update are at Source/README_update_Tomcat.txt.)<span class="Apple-converted-space"> </span></li>
  <li class="li9">Turn on directory listings (which are off by default in Tomcat 7). This is needed, for example, to look at the WebTurbine documentation link http://localhost/documentation/.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Added ISO8601 time parsing to Web URL time munge.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Application updates and additions</b></h3>
<ul class="ul1">
  <li class="li9">MakeTimeMirror: create a time mirror from one RBNB source to another<span class="Apple-converted-space"> </span></li>
  <li class="li9">NMEAParser: parse GPS data and put it in RBNB source<span class="Apple-converted-space"> </span></li>
  <li class="li9">TCPCapture and UDPCapture: capture TCP or UDP content and store it in an RBNB source<span class="Apple-converted-space"> </span></li>
  <li class="li9">UDPWrite: write text messages out to a UDP host and port<span class="Apple-converted-space"> </span></li>
  <li class="li9">UDPChatSource: very similar to UDPWrite (just different message formatting)<span class="Apple-converted-space"> </span></li>
  <li class="li9">rbnbPipe: grab content from a pipe and store it in an RBNB source<span class="Apple-converted-space"> </span></li>
  <li class="li9">CSVDemux: demultiplex CSV data based on formatting specified in an XML configuration file<span class="Apple-converted-space"> </span></li>
  <li class="li9">XMLDemux: significant updates; demultiplexes binary packed data based on formatting specified in an XML configuration file<span class="Apple-converted-space"> </span></li>
  <li class="li9">UDPCaster: updates; Add an optional decimation factor flag to UDPCaster ("-d"). New command line option ("-i"), which indicates that the user wishes to ignore UDP send errors.<span class="Apple-converted-space"> </span></li>
  <li class="li9">UDPHeadlessCaster: headless version of UDPCaster<span class="Apple-converted-space"> </span></li>
  <li class="li9">udpFolder: watch a file folder and if any files in it update, send the new content to UDP port<span class="Apple-converted-space"> </span></li>
  <li class="li9">rbnbFolder: watch a file folder and if any files in it update, send the new content to RBNB source<span class="Apple-converted-space"> </span></li>
  <li class="li9">Capture: minor update; output data as string for output channel names ending in ".txt" (makes this compatable with rbnbPlot text data display)<span class="Apple-converted-space"> </span></li>
  <li class="li3">rbnbSource: minor update; added ability to specify cache size<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Development build system</b></h3>
<ul class="ul1">
  <li class="li9">Update build system to use IzPack 4.3.4 (previously used IzPack 3.5.4), for install on 64-bit Windows.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Updated build system to use Tomcat 7.0.19.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Added new applications to build system (see "Application updates and additions", found above).<span class="Apple-converted-space"> </span></li>
  <li class="li9">Removed the automatic Doxygen build, which was failing on a system which doesn't have Doxygen installed.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Construct both the regular Documentation as well as ProgrammerDocumentation for every build.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Miscellaneous</b></h3>
<ul class="ul1">
  <li class="li3">Add a README file to the Matlab directory in the distribution; provides some documentation on using the Matlab/SAPI interface.<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.2B4 to V3.2B5 Changes</b></h2>
<p class="p3">V3.2B5 released 08/30/2010<br>
This release corresponds to RBNB Subversion repository revision number 199</p>
<ul class="ul1">
  <li class="li3">Added convenience methods (CreateMirrorOut) to start a push mirror. This has been added to the SAPI Control class.  Thus, in addition to starting a mirror from rbnbAdmin, users can now start a mirror from a Java program or from MATLAB.<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.2B3 to V3.2B4 Changes</b></h2>
<p class="p3">V3.2B4 released 05/25/2010<br>
This release corresponds to RBNB Subversion repository revision number 193</p>
<ul class="ul1">
  <li class="li9">Improved attach/detach logic.  Now grows archive Filesets.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Added MATLAB regression test to check the source reattachment enhancement.<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.2B2 to V3.2B3 Changes</b></h2>
<p class="p3">V3.2B3 released 08/31/2009<br>
This release corresponds to RBNB Subversion repository revision number 186</p>
<ul class="ul1">
  <li class="li9">Added RBNB Tools, a tool tray applet to manage RBNB servers.</li>
  <li class="li9">Implemented Terminate(String) method of SAPI Control class.  Renamed Terminate(void) method to TerminateServer().  Added JUnit testing for the Control class.</li>
  <li class="li3">Upgraded built-in Tomcat version from 5.5.12 to 6.0.18.</li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.2B1 to V3.2B2 Changes</b></h2>
<p class="p3">V3.2B2 released 04/22/2009<br>
This release corresponds to RBNB Subversion repository revision number 179</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Server</b></h3>
<ul class="ul1">
  <li class="li9">Added synchronize call to Mirror write to confirm data sent. This avoids lost data on reconnect, but may incur unwanted additional network delay due to the fact that the server waits for confirmation that the data sent to the downstream mirror was actually delivered.  To turn this feature off, include the following definition in the DataTurbine startup Java command: -DasyncMirror<span class="Apple-converted-space"> </span></li>
  <li class="li9">Added test code (currently commented out) in Mirror which can be used to check the latest time in the downstream mirror source to see if the last data frame should be resent (this would be used after the mirror connection was broken and then reconnected).</li>
  <li class="li9">If a mirror connection has been broken and is in a loop trying to reconnect, the user can manually terminate the mirror's sink connection (in rbnbAdmin) in order to break out of this loop and terminate the mirror.</li>
  <li class="li3">Changes to fix subscribe and mirror problem where multi-ringbuffer sources would not reliably send data for all channels.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Applications</b></h3>
<ul class="ul1">
  <li class="li9">Added ChartServlet and WebPlot (a front end to ChartServlet; a link to this on the main WebTurbine web page).</li>
  <li class="li9">Added FillInTree utility class (a class to provide a fully-filled in ChannelTree for clients that need it).</li>
  <li class="li9">Added KMLigPlugIn.  As KMLitPlugIn, but by using the new PhotoOverlay element in KML2.2, it eliminates the need for the vastly more complicated DAE files.</li>
  <li class="li9">Made note about user data format in ChannelMap.PutUserData().</li>
  <li class="li3">Add DeadReckoningPlugIn: shows a dead reckoning "ring" around last known position based on latency and last known ground speed.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Build Environment</b></h3>
<ul class="ul1">
  <li class="li3">In JUnitTesting/build.xml, modified the compile target's classpath so it works under MAC OSX 10.4.</li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.1a to V3.2B1 Changes</b></h2>
<p class="p3">V3.2B1 released 08/28/2008<br>
This release corresponds to RBNB Subversion repository revision number 162</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Server</b></h3>
<ul class="ul1">
  <li class="li9">Fix RBNB Issue #8, "Monitoring a source which has multiple RingBuffers doesn't work" (http://code.google.com/p/dataturbine/issues/detail?id=8)<span class="Apple-converted-space"> </span></li>
  <li class="li9">If an Archive is loaded for Append, and the load fails, the old archive is now moved to a new name, of the form &lt;old_name&gt;.fail.001 (002, etc). A new archive is then created with the old name.  The old behavior can be restored with: "<span class="s1">-Dcom.rbnb.api.RBO.noFailSafe=true"</span></li>
  <li class="li3">Changed Metrics Rmaps to use zero-duration timestamps to reduce memory (cache and archive) utilization.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Applications</b></h3>
<ul class="ul1">
  <li class="li9">In WebDAVServlet, fixed delete of original file on MOVE</li>
  <li class="li9">Added UDPFragmenter, a utility to fragment UDP packets for transmission over networks without IP fragmentation support.</li>
  <li class="li3">Added ResponseMon application, an HttpMonitor variant to quantize webserver response times and log to DataTurbine; includes BASIC authentication support.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Build Environment</b></h3>
<ul class="ul1">
  <li class="li3">Added JUnit test framework, which requires Ant 1.7. Currently the only test is to check archive append load failures (see note in Server, above).  The JUnitTesting subdirectory is excluded from the root library Ant build task.<span class="Apple-converted-space"> </span></li>
</ul>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times"><b>RBNB V3.1a Release Notes</b></h1>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.1a Production Release</b></h2>
<p class="p3">V3.1a released 07/09/2008<br>
This release corresponds to RBNB Subversion repository revision number 151<br>
Fixed a bug in rbnbPlot (RBNB Issue #9, "rbnbPlot throws NullPointerException on chans w/o MIME").<br>
Add headless (no GUI) mode to UDPCaster; this is activated using the new "-g" command line flag.</p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times"><b>RBNB V3.1 Release Notes</b></h1>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.1 Production Release</b></h2>
<p class="p3">V3.1 released 06/27/2008<br>
This release corresponds to RBNB Subversion repository revision number 146<br>
The source for this release is identical to the source used for release V3.1B4a</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.1B4 to V3.1B4a Changes</b></h2>
<p class="p3">V3.1B4a released 05/28/2008</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebDAVServlet</b></h3>
<ul class="ul1">
  <li class="li3">Tweeked previous attach-to-detached source change. Was not properly updating server channel metadata on WebDav channel put.</li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.1B3 to V3.1B4 Changes</b></h2>
<p class="p3">V3.1B4 released 05/23/2008</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>General</b></h3>
<ul class="ul1">
  <li class="li9">In the IzPack installation: changed URL to dataturbine.org</li>
  <li class="li9">Source/build.xml: Change 'target' to 'dir' in build.xml, was broken on netbeans.</li>
  <li class="li9">Update WebTurbine HTML home page to reference updated Developer Guide</li>
  <li class="li3">Updated DataTurbine Developer Guide V3</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Server</b></h3>
<ul class="ul1">
  <li class="li9">When the upstream side of a Mirror is terminated, the downstream output Source side of the Mirror is now detached (data still available in RBNB) rather than stopped (unloaded from the RBNB). Add a new Java flag for overriding this default behavior: –Dpersistentmirror=&lt;true|false&gt;</li>
  <li class="li3">Source close synchs with server; lost frames zeroed to prevent deadlock.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Matlab</b></h3>
<ul class="ul1">
  <li class="li3">In Matlab/rbnb_getjpg.m and Matlab/rbnb_putjpg.m: Delete temp files after using them.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>PlugIns</b></h3>
<ul class="ul1">
  <li class="li9">Corrected heading calculation in TrackDataPlugIn.</li>
  <li class="li9">Fix bug in TrackDataPlugIn dealaing with the display of "pseudo-alt" KML channels.</li>
  <li class="li9">Bound heading angle in TrackKMLPlugIn.</li>
  <li class="li3">Moved calculateHeading() to TrackDataPlugIn.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebDAVServlet</b></h3>
<ul class="ul1">
  <li class="li9">Modified WebDAVServlet to enable appending to detached sources.</li>
  <li class="li3">Corrected start time issue in WebDAV interface when only duration specified on PUT.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>HttpMonitor</b></h3>
<ul class="ul1">
  <li class="li9">Removed HttpMonitor dependency on sun.misc.Base64*</li>
  <li class="li3">Added check to HttpMonitor: if LastModified field is present, only update if changed.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlot</b></h3>
<ul class="ul1">
  <li class="li9">Minor updates to RBNB Plot.</li>
  <li class="li3">rbnbPlot now uses MIME type to identify JPEGs for display.</li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.1B2 to V3.1B3 Changes</b></h2>
<p class="p3">V3.1B3 released 03/04/2008</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>General</b></h3>
<ul class="ul1">
  <li class="li9">On 03/01/08, the RBNB Subversion repository was switched from NEESforge to Google Code.</li>
  <li class="li9">Added "source" and "target" flags to "javac" tasks in build.xml files where they were not being set.  In general, "source" and "target" are set to the value of "rbnb.javaver" (declared in definitions.xml), which is currently "1.4".  Note that the RBNB server overrides this flag and sets Java 1.3 as the target and source version.</li>
  <li class="li3">In "Source/Scripts/OtherUnixScripts/Start_Webserver.sh" and "Source/Scripts/OtherUnixScripts/Stop_Webserver.sh", change shell to bash on other unix, seems to fix the bug on Solaris.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Server</b></h3>
<ul class="ul1">
  <li class="li3">Added support for loading archives via absolute pathnames.  Modified "Source/DataTurbine/com/rbnb/api/RBO.java"</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>SAPI</b></h3>
<ul class="ul1">
  <li class="li3">Updated ChannelMap javadoc to specify that PutData calls do not copy the input arrays. Modified "Source/DataTurbine/com/rbnb/sapi/ChannelMap.java"</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Matlab</b></h3>
<ul class="ul1">
  <li class="li3">Added new utilities to support RBNB-JPG processing in Matlab: "Source/Matlab/rbnb_putjpg.m" and "Source/Matlab/rbnb_getjpg.m"</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>PlugIns</b></h3>
<ul class="ul1">
  <li class="li9">Add support for 3D icon orientation in TrackDataPlugIn and TrackKMLPlugIn.</li>
  <li class="li3">Added timeout argument to PluginTemplate.argHelper.  Modified "Source/DataTurbine/com/rbnb/plugins/PlugInTemplate.java"</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebCache</b></h3>
<ul class="ul1">
  <li class="li3">WebCache/CacheInterface:  changed rbnbPutData to ByteArray vs INT8 type for compatability with subsequent fetches from cache by rbnbPlot and RDV etc.  Modified "Source/Applications/WebCache/com/rbnb/webCache/CacheInterface.java"</li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.1B1 to V3.1B2 Changes</b></h2>
<p class="p3">V3.1B2 released 01/11/2008</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>General</b></h3>
<ul class="ul1">
  <li class="li9">Open source code is hosted on NEESforge website.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Removed obfuscation (no longer needed now that RBNB is open source); remove ProGuard files from Third_Party directory.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Add Doxygen documentation capability (add Source/Doxyfile; tweak the Ant "programmer-documentation" task; add Doxygen adapter class for Ant).<span class="Apple-converted-space"> </span></li>
  <li class="li9">Tweak regression test script to support COMSOL: take out spaces between function name and open parenthesis (change in Source/Matlab/testrbnb.m).<span class="Apple-converted-space"> </span></li>
  <li class="li3">Added ActiveX packager and installation scripts and LabView example.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Server</b></h3>
<ul class="ul1">
  <li class="li9">Added interpreter header to Source/DataTurbine/jsharp_code_prep_script<span class="Apple-converted-space"> </span></li>
  <li class="li9">User info is now replaced on successive registrations<span class="Apple-converted-space"> </span></li>
  <li class="li9">Fixed registration bug in com.rbnb.api.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Shortcuts now appear as SERVER nodes in ChannelTree. Updated Sink.RegistrationRequest documentation.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Change TCP.java to support computers with multiple interfaces.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Fixed bug for trimByTime mode. _Metrics channels would not be reliably checked for trimming the ring buffer. This could result in long term memory growth with risk of running JVM out of memory (change in Source/DataTurbine/com/rbnb/api/StorageManager.java).<span class="Apple-converted-space"> </span></li>
  <li class="li3">SAPI: Minor improvements to ChannelMap.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>TimeDrive</b></h3>
<ul class="ul1">
  <li class="li9">Tweak GUI to add additional “Interval” entries for finer grain control of track display.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Add fractional time step and interval values to TimeDrive web interface for finer grained control; make supporting changes in the TimeDrive server.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>PlugIns</b></h3>
<ul class="ul1">
  <li class="li9">RoutingPlugin: Fix exception-handling bug; add debug flag (-d).<span class="Apple-converted-space"> </span></li>
  <li class="li9">A plug-in to compute the time derivative of a channel was added to the PlugIn area.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Improved performance of PlugInTemplate.stop().<span class="Apple-converted-space"> </span></li>
  <li class="li9">Added com.rbnb.plugins.PlugInRecorder, which Subscribes to a PlugIn and archives the output.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Minor improvements to PlugInTemplate.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>UDPCaster</b></h3>
<ul class="ul1">
  <li class="li9">Add new command line arguments: autostart ("-x") and stream from oldest ("-o").<span class="Apple-converted-space"> </span></li>
  <li class="li3">Supports multiple recipients ("-r" flag takes a comma-delimited list of recipients).<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlot</b></h3>
<ul class="ul1">
  <li class="li9">Added com.rbnb.fie (File Import/Export) package (added to Plot area because that is where we are initially using it, and also to keep the Server code Java 1.1.4 compliant). JMatStruct, an exporter for .MAT files, is the most significant class in this package.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Add MATLAB (".MAT") export support using JMatStruct. The .MAT file is created in the current directory.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Plot has support to change the font size through a JVM system parameter.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Fixed export-to-DT trimByTime mode problem (ExportToDT.java).<span class="Apple-converted-space"> </span></li>
  <li class="li9">Added short sleep to help rbnbPlot channel list refresh on new connection (tweak in RBNBPlotMain.java).<span class="Apple-converted-space"> </span></li>
  <li class="li9">Change default video playback rate.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Slowed down startup playback rate for zero-duration data (e.g. video).<span class="Apple-converted-space"> </span></li>
  <li class="li9">Fixed bug where zero-duration image plots would hang.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Spaces in channel names replaced with underscores for .mat file export.<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.0 to V3.1B1 Changes</b></h2>
<p class="p3">Third_Party directory has been pulled out of Source directory; build files have been adjusted as appropriate. This is consistant with the folder structure at NEESforge and makes sense since the content of Third_Party isn't part of the RBNB open source.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbServer</b></h3>
<ul class="ul1">
  <li class="li3">Some debug features of Locks and Doors are conditional, using the system property com.rbnb.api.Door.debug. Set this to "true" to allow debug. This reduces memory consumption in some cases by 30-40%.<span class="Apple-converted-space"> </span></li>
</ul>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times"><b>RBNB V3.0 Release Notes</b></h1>
<p class="p3">This release of the RBNB system contains the following changes:</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.0 Production</b></h2>
<ul class="ul1">
  <li class="li9">Code is frozen as a stable production release.<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9">Both "push" and "pull" mirrors now have reconnect logic<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li3">Added limited support for displaying 3D icons (".dae" models) to TrackKMLPlugIn. An "Icon Scale" combo box has been added to the GUI which allows the user to specify the scale for both 2D and 3D icons.<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.0B3 to V3.0B4 Changes</b></h2>
<ul class="ul1">
  <li class="li9">RBNBPlot's font size can be specified with the java debug flag -Dplot.fontsize=N<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9">"Pull" mirrors will automatically reconnect if the network link goes down. This is a beta test change, with "push" mirrors to follow in a future release.<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li3">Parameters targeted to specific plugins can now be specified via both the URL "munge" interface and the API. The URL syntax is "?pio=plug-in-name,key1=value1,...,keyn=valuen". The API interface is ChannelMap.AddPlugInOption()<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.0B2 to V3.0B3 Changes</b></h2>
<ul class="ul1">
  <li class="li3">Fixed bug in ResamplePlugin so it now handles multiple channels per request<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V3.0B1 to V3.0B2 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbServer</b></h3>
<ul class="ul1">
  <li class="li9">Plugins now properly handle "Monitor" mode by passing through source frames consistent with how a direct (non-plugin) connection works<span class="Apple-converted-space"> </span></li>
  <li class="li9">Mirrors forward registration metadata (also known as "User Info").<span class="Apple-converted-space"> </span></li>
  <li class="li9">Subscribe to oldest and Mirror from oldest bug fix in the case where the Subscription/Mirror is set up before data is in the Source and the Source has registered channels.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Tweeks to server thread-locking logic should make it less likely for certain rare but annoying thread-lockup problems to happen<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Developer API</b></h3>
<ul class="ul1">
  <li class="li3">When a user registers channels in a Source, it is now allowed to have a mix of channels with and without registration metadata (also known as "User Info").<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.6 to V3.0B1 Changes</b></h2>
<p class="p3">V3.0B1 is the first beta release of V3 RBNB. It is identical to V2.6 except that it is being released under the Apache 2.0 Open Source license. See the revised EULA for license details, and the new "Source" link to download source code. Future releases will provide build/source documentation as available.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.6B6 to V2.6 Changes</b></h2>
<p class="p3">V2.6 is a stable production release.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbServer</b></h3>
<ul class="ul1">
  <li class="li3">Various archive-recovery tweeks. Fire-walled an obscure infinite recovery loop problem; continued archive-robustness logic TBD.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Plugins</b></h3>
<ul class="ul1">
  <li class="li3">Resample plugin added that will downsample and/or limit the amount of numerical data fetched through it, similar to ThumbNail for images.<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.6B5 to V2.6B6 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbServer</b></h3>
<ul class="ul1">
  <li class="li9">Changed the archive-append logic. Now, when a source opens an archive for append and changes the size (number of frames) of the archive, no data is trimmed. Rather, any change to the archive size applies to new filesets as they are written, such that the new size will be achieved after a complete set of data at the new size is written. This change is to prevent the inadvertent loss of previously recorded data.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Backed out the one-deep default registration request logic change of V2.6B5. This caused problems where plugins and routes could be flooded with repeated registration requests, e.g. from the WebDAV interface.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Various archive-recovery tweeks. Fire-walled an obscure infinite recovery loop problem; continued archive-robustness logic TBD.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>TrackKMLPlugIn</b></h3>
<ul class="ul1">
  <li class="li9">Add support for munge-settable display parameter options: KmlLabel, KmlSort, KmlIcon, KmlColor, KmlCurtain<span class="Apple-converted-space"> </span></li>
  <li class="li3">In the configuration file, add support for custom Type and Classification color mapping</li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.6B4 to V2.6B5 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbServer</b></h3>
<ul class="ul1">
  <li class="li9">Fixed a bug where a source would detach, then reconnect and write more data, would fail to properly register the new data, thus making it unavailable upon subsequent reloading the archive.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Improved archive recovery logic to use much less memory, enabling the recovery of very large archives. To force the recovery of an archive at any level, remove the associated "seal.rbn" files from the archive directory tree. Also extended the range of potential types of archive corruption that can be handled by the recovery process.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Changed default behavior to (once again) use multiple framesets per cache. Using a small number of framesets per cache improved playback performance, but could hurt source performance for large numbers (e.g. 500) channels. Symptoms would be a surge of CPU use on each cache-flush. The old behavior can still be invoked by using the -Dnumframesets=N (N&gt;0).<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>PlugIns</b></h3>
<ul class="ul1">
  <li class="li9">Enhanced server-side plugin handler to automatically convert streaming (monitor, subscribe) modes into a sequence of requests. This enables streaming through most existing plugins without modification.<span class="Apple-converted-space"> </span></li>
  <li class="li9">PlugInTemplate class added to streamline plugin development.<span class="Apple-converted-space"> </span></li>
  <li class="li3">ThumbNail and PNGPlugIns converted to use PlugInTemplate.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Developer API</b></h3>
<ul class="ul1">
  <li class="li3">The RequestRegistration() method with no arguments now defaults to a "*/..." request. That is, default registration requests will go one-deep into PlugIns and Routing connections to better enable selection of channels from applications with pull-down menus etc.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>TimeDrive</b></h3>
<ul class="ul1">
  <li class="li3">Add multi-user support, where each user has control of their own time munge parameters. Two multi-user modes: based on IP address (the default) and using HTTP Basic Authorization (user is prompted for a username/password).<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>HttpForward servlet</b></h3>
<ul class="ul1">
  <li class="li3">A new servlet delivered with Tomcat. Allows a client which can connect to Tomcat (standard port 80 access) to make requests of servers running at ports to which they may not have access. Client connects to Tomcat and then HttpForward servlet passes this request on as part of a user-defined URL. For example, this servlet can be used to provide TimeDrive support to clients who only have port 80 access to Tomcat.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>TrackKMLPlugIn and TrackDataPlugIn</b></h3>
<ul class="ul1">
  <li class="li3">KMLTrackPlugIn has been broken up into these two modular components. Together, these PlugIns convert a series of RBNB alt, lat, lon data points into a KML document viewable with Google Earth. TrackDataPlugIn handles the low-level RBNB data requests; TrackKMLPlugIn formats this data into a KML.<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9">Changes in TrackDataPlugIn<span class="Apple-converted-space"> </span></li>
  <ul class="ul2">
    <li class="li9">Add "append=&lt;chan&gt;" munge to request data on an extra channel (used as pseudo-alt channel in TrackKMLPlugIn)<span class="Apple-converted-space"> </span></li>
    <li class="li3">Add "tactical=1" munge to obtain a full duration worth of data on the ancillary channels (including Speed and Heading)<span class="Apple-converted-space"> </span></li>
  </ul>
</ul>
<ul class="ul1">
  <li class="li9">Changes in TrackKMLPlugIn<span class="Apple-converted-space"> </span></li>
  <ul class="ul2">
    <li class="li3">If an extra channel (an "append" channel) comes back from TrackDataPlugIn, display it as a pseudo-alt track.</li>
  </ul>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.6B3 to V2.6B4 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbServer</b></h3>
<ul class="ul1">
  <li class="li9">As part of cache/archive optimization, changed logic to write entire cache to archive (vs in parts). This means you want a cache that is no larger than needed for efficient disk-block write efficiency, e.g. 100 frames.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Workaround for archive writing inconsistancy on some multiprocessor machines added to FrameSet.writeToArchive()<span class="Apple-converted-space"> </span></li>
  <li class="li9">Incoming single-channel frames are recast in a more efficient format, which reduces archive sizes and greatly improves read performance.<span class="Apple-converted-space"> </span></li>
  <li class="li9">Plain userinfo registration data is updated to xml format.<span class="Apple-converted-space"> </span></li>
  <li class="li3">Add "-H" command line flag to specify the archive home directory.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbAdmin</b></h3>
<ul class="ul1">
  <li class="li3">Add "-u" command line flag to specify username.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlayer</b></h3>
<ul class="ul1">
  <li class="li3">In single-point mode, when Player is sleeping (for rate/pacing control), the time on the Position slider is updated - this provides feedback to the user that Player isn't "stuck", rather it is just pacing its output.  Note, however, that the location of the Position slider itself is not updated - just the time label is updated.<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.6B1 to V2.6B3 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebTurbine</b></h3>
<p class="p3">Rebuilt code to run with JRE (versus full JDK required with previous release).</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbServer</b></h3>
<p class="p3">A "frameset" is a collection of cache frames which are written to the archive. The rbnbServer code has been modified to set the default number of framesets to 2. For example, if a Source has 100 cache frames, then by default this cache is broken up into 2 framesets of 50 frames each. If this Source has an archive, then the archive will be appended each time 50 new frames arrives in the Source. <br>
<br>
A new RBNB Server command line option has been added for setting the number of framesets in each cache, "-Dnumframesets=&lt;positive integer&gt;". For example, if a Source is created which has 1000 cache frames, and if the RBNB Server was started with the command line option "-Dnumframesets=5", then this Source's cache is broken up into 5 framesets of 200 frames each. If this Source has an archive, then the archive will be appended each time 200 new frames arrives in the Source. <br>
<br>
If the user specifies "-Dnumframesets=0" on the RBNB Server command line, this is a special case which tells the Server to set the number of framesets for each Source equal to the square root of the number of cache frames in the Source. This is equivalent to the legacy method of setting the number of framesets (before the Server change to set the default number of framesets to 2, see above for details). For example, if the RBNB Server command line included "-Dnumframesets=0" and a Source is created which has 100 cache frames, then the number of framesets will be set to 10 (since the square root of 100 is 10), and each frameset will contain 10 cache frames.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.5 to V2.6B1 Changes</b></h2>
<p class="p3">V2.6B1 is a beta release</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebTurbine</b></h3>
<p class="p3">Upgraded to Jakarta Tomcat 5 Web Server.  This change entails a re-implemented RBNB Web servlet which should be more efficient.  As part of this change, the "rbnbUser" web interface has been deprecated and replaced by "RBNB".  The "rbnbNet" interface is no longer available.  All URL references to an RBNB are relative to the connected server via the "RBNB" servlet, as in:<br>
<br>
http://localhost/RBNB<br>
<br>
WebTurbine now recognizes If-Modified-Since headers and only returns data if it has changed. This greatly improves the efficiency of the WebTurbine for polling applications.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbServer</b></h3>
<p class="p3">Fixed a bug if Source archive length was less than cache size, no archive would be created. <br>
<br>
Fixed a bug if a Source did a Detach() too quickly after the last Flush, a corrupted ring buffer would prevent subsequent Sinks from Fetching data. <br>
<br>
Fixed a bug where the Server would orphan a thread each time a client made a Registration request. This would eventually cause the Server to grow in memory and thread resource use. </p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Routing PlugIn</b></h3>
<p class="p3">The Robust Routing Plugin now has a "Routing Console" web interface to launch/stop and review routing plugin status. <br>
If a _loopback RoutingPlugIn is running at the source, UDP is used for monitoring instead of the usual SAPI connection.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbAVCP</b></h3>
<p class="p3">Bug fix for 16-bit audio; performance tweaks.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>ThumbNail PlugIn</b></h3>
<p class="p3">If max number of images has been set to 1, ThumbNail now correctly limits max number of images to 1.<br>
Added "-n" option for setting PlugIn name.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>KMLTrackPlugIn</b></h3>
<p class="p3">KMLTrackPlugIn is a new PlugIn being distributed with RBNB.  This PlugIn converts a series of RBNB alt, lat, lon<br>
data points into a KML document viewable with Google Earth.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>TimeDrive</b></h3>
<p class="p3">TimeDrive is a new application being distributed with RBNB.  TimeDrive is a Web proxy server which adds a time munge<br>
to WebTurbine requests.  A Web interface is provided with VCR-like controls for setting TimeDrive's current time.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.5B7 to V2.5 Changes</b></h2>
<p class="p3">V2.5 is a stable production release</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlot</b></h3>
<p class="p3">A problem that under certain laggy conditions could lock up channel selection has been fixed. <br>
The plot label units-multiplier (e.g. "kilo") that was temporarily lost is now back.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbAdmin</b></h3>
<p class="p3">Admin now recognizes and displays PlugIn channels (one level deep).</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>RoutingPlugIn</b></h3>
<p class="p3">The Robust Routing PlugIn has been updated to better support streaming data connections. <br>
There are some server mods specific to plugins that support this.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebTurbine</b></h3>
<p class="p3">The default archive-mode via the WeDAV (file) interface is once again "append" (vs "create").</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.5B6 to V2.5B7 Changes</b></h2>
<p class="p3">V2.5B7 is an updated beta release.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlot</b></h3>
<p class="p3">The plot display boxes are under user-controlled layout manager, allowing individual window components to be positioned and sized independently.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.5B5 to V2.5B6 Changes</b></h2>
<p class="p3">V2.5B6 is an updated beta release.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlayer</b></h3>
<p class="p3">A TCP output option has been added to Player.  The user specifies a port number on which Player will open a server socket to listen for TCP client connections.  RBNB data is sent to each connected TCP client. Default display mode and duration have been modified.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>RBNB Server</b></h3>
<p class="p3">Due to numerical round-off in the RBNB Server, certain problems have been identified with time-based subscriptions where the Source has a multi-point frame defined by a single start time and non-zero duration (a time is not set for each point in the frame). This problem has been fixed (by adding a small roundoff correction) for some of the cases where the problem occurred.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlot</b></h3>
<p class="p3">Text channels (those with mime type text/plain, or ending in ".txt" or ".text") will be displayed in a scrolling text box, synchronously with other data.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Web Interface</b></h3>
<p class="p3">An option to the WebDAV interface for converting fetched data to text ("&amp;dt=string") has been added.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.5B4 to V2.5B5 Changes</b></h2>
<p class="p3">V2.5B5 is an updated beta release.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>RBNB Server</b></h3>
<p class="p3">We found and fixed some subtle bugs in streaming modes (monitor and subscribe). The bugs occured when a sink streams multiple channels from a source with multiple ring buffers (e.g when a source puts different channels in different frames at different rates). <br>
<br>
The following bugs were fixed:</p>
<ul class="ul1">
  <li class="li9">Monitor mode could get duplicate frames<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9">Subscribe mode could block forever waiting to start<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li3">Streaming from oldest or newest could skip the first frame<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>ChannelTree</b></h3>
<p class="p3">The ChannelTree API structure now has time info (start &amp; duration) consistent with the ChannelMap object.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlot</b></h3>
<ul class="ul1">
  <li class="li3">rbnbPlot is updated to the Java Swing interface, including a much nicer "tree view" channel selection window.<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9">rbnbPlot recognizes source metadata and perform associated linear scaling and plot annotation.  To use it, a source provides metadata of the form:<span class="Apple-converted-space"> </span></li>
  <ul class="ul2">
    <li class="li13">cm.PutUserInfo(0,"units=volts,scale=2,offset=3")</li>
  </ul>
  <li class="li3">rbnbPlot can "zoom" via cursor control to selected portions of stripchart data. <span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li3">rbnbPlot allows type-in start and duration time fields.</li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 64.3px; font: 14.0px Times"><b>rbnbAVCP</b></h3>
<p class="p3">rbnbAVCP now supports full command-line option control. It also uses the new registration <i>userInfo</i> methods for describing its content.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebTurbine</b></h3>
<p class="p3">You can now fetch channel meta-data ("userInfo") via the WebDAV option 'fetch=info'.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.5B3 to V2.5B4 Changes</b></h2>
<p class="p3">V2.5B4 is an updated beta release.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlot</b></h3>
<p class="p3">A new capability to export selected data to the locally connected DataTurbine is implemented.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Registration metadata</b></h3>
<p class="p3">New API methods putUserInfo and getUserInfo enable per-channel metadata to be stored and retrieved in the registration channel map of a data source.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Server side automatic timestamps</b></h3>
<p class="p3">Server timestamps were broken and are now fixed. <br>
 </p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.5B2 to V2.5B3 Changes</b></h2>
<p class="p3">V2.5B3 is an updated beta release.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Sink constructor deprecation</b></h3>
<p class="p3">The Sink constructor taking arguments (cache,mode,archive) has been deprecated, and now calls Sink() instead. The server does not support setting cache and archive for Sinks.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbAVCP</b></h3>
<p class="p3">The rbnbAVCP video capture and display application has been updated and improved.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlayer</b></h3>
<p class="p3">The rbnbPlayer application has been updated and several bug fixed in the beta version.  Specifically, single-point playback now works properly.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbAdmin</b></h3>
<p class="p3">The rbnbAdmin application now has an option to load archives from disconnected sources.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Authentication (Beta)</b></h3>
<p class="p3">Authentication via Kerberos or Grid GSI security is supported. <br>
 </p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.5B to V2.5B2 Changes</b></h2>
<p class="p3">V2.5B2 is an updated beta release.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Applet Security</b></h3>
<p class="p3">The RBNB API has been updated to allow clients (sources and sinks) to run as applets using default applet security rules (e.g. connecting back to the same server from which the applet was loaded).  Previously, there were a number of Java System.getProperty() calls that would throw uncaught exceptions if run as an applet.  These are now caught and defaults used for the case of applets.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Audio/Video Capture and Display</b></h3>
<p class="p3">Updated audio/video capture and display application (rbnbAVCP) is included in this release.  This is effectively an RBNB "videophone" that has built-in record and playback capabilities.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlayer (Beta)</b></h3>
<p class="p3">The V1 "rbnbPlayer" application has been updated and ported to RBNB V2.  This application "plays" data from one source and outputs it to another,  time-slewing it using VCR-like controls.  Sink clients can subscribe to the player output channels and thereby by remote-controlled. <i>(This release of player is Beta-only.  There are known issues and some debug print-outs).</i></p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improved Archive Recovery Logic</b></h3>
<p class="p3">The archive recovery logic was improved so that certain types of previously unrecoverable corrupt archives are now recoverable.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>ThumbNail Plugin</b></h3>
<p class="p3">A new "thumbnail" plugin is available that will downsample and/or reduce JPEG image size.  This enables remote access to large volumes of video data over limited network bandwidth links.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.4.4 to V2.5B Changes</b></h2>
<p class="p3">V2.5B is a beta release of the RBNB system.  It includes a number of new and enhanced applications, and optionally supports a  .NET compatable interface.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>PlugIns</b></h3>
<p class="p3">New and enhanced plugins are available:</p>
<ul class="ul1">
  <li class="li9">SignaturePlugIn - signs and checks signatures to authenticate data sources<span class="Apple-converted-space"> </span></li>
  <li class="li9">FileDrop - picks up specified channels and drops them to local files<span class="Apple-converted-space"> </span></li>
  <li class="li9">RoutingPlugIn - robust RBNB-routing using plugins<span class="Apple-converted-space"> </span></li>
  <li class="li9">FolderPlugIn - updated to automatically update file-list upon data requests<span class="Apple-converted-space"> </span></li>
  <li class="li3">rbnbSource - fixed logic that would "detach" instead of close connections<span class="Apple-converted-space"> </span></li>
</ul>
<p class="p3">See the on-line Help documentation for details about each of these plugins.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>rbnbPlot</b></h3>
<p class="p3">The rbnbPlot stripchart application now supports video images.  Channels that end in ".jpg" are displayed as a "filmstrip" of video images. Clicking on the video window brings up options to set the image number and size.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Java V1.1 Compatability</b></h3>
<p class="p3">The low-level server and API code modifications have continued in various places to retain (old) Java V1.1.4 compatability, in order to support the .NET J# compiler.  Client code can be developed using the latest (e.g. Java 1.4) features.  Among the changes made:</p>
<ul class="ul1">
  <li class="li9">When using the Server command-line "-O" option to load an options file, the URL of the specified file can no longer use HTTPS.<span class="Apple-converted-space"> </span></li>
  <li class="li3">When using the Server command-line "-A" option to load a security/address authorization file, the URL of the specified file can no longer use HTTPS.<span class="Apple-converted-space"> </span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.4.3 to V2.4.4 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Registration Metadata Bug Fix</b></h3>
<p class="p3">A bug was fixed that could cause the "user" registration data (metadata) to be unreliably updated and retrieved.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Router Shutdown Robustness</b></h3>
<p class="p3">Modified the synchronization of router shutdown, to increase tolerance for network lapses.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Java V1.1 Compatability</b></h3>
<p class="p3">The low-level server and API code was modified in several places to retain (old) Java V1.1.4 compatability, in order to support the .NET J# compiler.  Client code can be developed using the latest (e.g. Java 1.4) features.  This work is in progress.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Another shot at rbnbjcap</b></h3>
<p class="p3">The rbnbjcap/jview video applications in the previous release (still) did not have all the required class files. This build hopefully fixes that.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.4.2 to V2.4.3 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Subscription by Wildcards</b></h3>
<p class="p3">It is now possible to specify a "*" wildcard for subscriptions by time.  Subscriptions by frame still do not support wildcards.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Zero-Duration Request Logic Enhanced</b></h3>
<p class="p3">Prior to this release, a request for zero-duration at an absolute time would fetch data at-or-before the specified time.  This is handy so that sources can put data at zero-duration, and a request for zero-duration will find the "then-newest" data at any time.</p>
<p class="p3">With this release, the enhanced at-or-before logic is extended to include the time-relative requests ("newest" and "oldest").  Thus, relative and absolute requests behave consistently in this respect.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Build Includes rbnbjview and rbnbjcap Applications</b></h3>
<p class="p3">V2.4.x had inadvertently omitted including the video client applications in the build.  They are now back.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Minor API Documentation Updates</b></h3>
<p class="p3">The javadoc has been tweeked for some methods.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Change in Low Level Communication</b></h3>
<p class="p3">A change was made in the low level client/server communication to allow better cross-Java-version compatability. (Transmission of serialized Java objects was eliminated). Specifically, the .NET J# compiler will soon be supported.</p>
<p class="p3">This change should be transparent to all users, and cross-RBNB-version compatability is maintained.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.4.1 to V2.4.2 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Multiple Ring Buffer Request Problem</b></h3>
<p class="p3">A bug in the server caused a string index out of range error when requesting a short channel name (&lt;3 characters) from a source with multiple ring buffers (channels sent in separate groups).</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.4 to V2.4.1 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Delete Channels from Registration</b></h3>
<p class="p3">An oversight in the delete channels capability would result in channels not being fully deleted if they were explicitly registered. This effected the WebDAV system, which uses explicit registration for empty files. Moving, renaming, and deleting files now works properly.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Updated Documentation</b></h3>
<p class="p3">Documentation has been updated to reflect the changes to the layout and all of the documentation is now included as part of the WebTurbine system.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.3.2 to V2.4 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>New Installation System</b></h3>
<p class="p3">The RBNB DataTurbine and WebTurbine system is now delivered as an IzPack installation rather than an InstallAnywhere system. The former is a freely distributable package. It lacks the JRE installation capability used on Windows systems, but is otherwise similar to the latter.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>New Installation Layout</b></h3>
<p class="p3">The installation layout has changed somewhat, mostly in the WebTurbine area where we now use .war files to package the RBNB extensions. Renamed Package The former <span class="s1">COM.Creare.Utility</span> package has been renamed to <span class="s1">com.rbnb.utility</span> for consistency. This package contains some useful, general-purpose utility code.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.3.1 to V2.3.2 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>COM.Creare.Utility Package renamed to com.rbnb.utility</b></h3>
<p class="p3">The COM.Creare.Utility package has been renamed to com.rbnb.utility for consistency with Java standards.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Restructured Installation</b></h3>
<p class="p3">The build and installation process has been changed, resulting in a somewhat different structure to the resulting delivery. The major, noticable change is that the WebTurbine files have been packaged in .war files.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.3 to V2.3.1 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Routing Reconnect Loop</b></h3>
<p class="p3">If an error (not a network problem or server shutdown) caused a routing connection to be lost, it was possible for the two servers to get into an infinite loop of lose routing/re-establish routing. This has been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Number of Threads</b></h3>
<p class="p3">Some types of requests, especially going across routing, had the potential of stranding threads due to a notification problem. This has been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>JNDI_Sink Names</b></h3>
<p class="p3">The names of the JNDI_Sinks (used by the WebDAV interface) have been changed to reflect the Web application that creates them.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>JNDI_Sink Pool</b></h3>
<p class="p3">The number of JNDI_Sinks (used by the WebDAV interface) held in a pool for future reuse has been reduced from 16 to 4. This may cause some degradation in responsiveness, but improves overall resource use.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Stranded Web Turbine JNDI_Sinks</b></h3>
<p class="p3">The number of JNDI_Sinks (used by the WebDAV interface) could potentially grow indefinitely if problems occured on the server side. The JNDI_Sinks now have a one minute timeout on any request and automatically shutdown if they do not get a response before the timeout expires.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Linux IBM Java Requirement</b></h3>
<p class="p3">The Linux startup scripts used to state that an IBM JVM was required for proper operation. This is no longer true.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.2.2 to V2.3 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Client Address Access Permissions</b></h3>
<p class="p3">The authorization security file now allows specific permissions (read, write, etc.) to be permitted rather than just full access allowed/denied.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Unconnected Shortcuts</b></h3>
<p class="p3">If a client asked for a registration map from a server with a shortcut that was in the process of being connected, the server would wait for the shortcut before returning the registration map. The server now skips over such shortcuts.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Connection Lockups</b></h3>
<p class="p3">A timeout has been added to the code that makes TCP connections to remote servers (both in the client API and in the server code for setting up routing). This ensures that failures in the low-level TCP socket connection logic due not result in client or server level lockups.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Duration Zero Request Problem</b></h3>
<p class="p3">A duration zero request for data with zero duration sometimes returned the wrong data. This would happen when the request time fell between two framesets. Instead of returning the last frame in the frameset preceededing the request, the code was returning the first frame in that frameset.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.2.1 to V2.2.2 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Deadlocks</b></h3>
<p class="p3">Under load, especially at startup, there was the potential for deadlock situations in the server. As a result, sources and sinks would produce informational messages about being blocked. These have been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Frame-based Streaming from a Source with an Archive</b></h3>
<p class="p3">Streaming from a source with an archive using frame-based streaming has been problematic. While the use of reframing (see <span class="s2">archive subscription problem</span>), it is at the price of increased storage. As of V2.2.2, the server will terminate a frame-based stream that attempts to get data out of an archive (either by requesting oldest or due to the fact that the stream is unable to keep up and falls out of the cache). Performance when streaming from the cache when there is an archive has been improved as well.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Mirror Shutdowns</b></h3>
<p class="p3">If the RBO side of a mirror was shut down, the mirror might not properly clean up. This could result in memory growth, eventually causing out of memory problems.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.2 to V2.2.1 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Storage/Retrieval of rbnbPlot Configurations</b></h3>
<p class="p3">The rbnbPlot application now allows the user to store and retrieve configuration information.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Monitor Mode Timing Bug</b></h3>
<p class="p3">A timing bug in Monitor retrieval mode caused premature termination of the stream of data being sent from the server.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.2B6a to V2.2 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Duplicate Times in Time-Based Subscriptions</b></h3>
<p class="p3">If the input stream of a time-based subscription contains points with identical times, the subscription could go into a loop retrieving those two points until they disappear from the ring buffer.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Per-Channel Times in Time-Based Subscriptions</b></h3>
<p class="p3">Per-channel (as opposed to per-frame - i.e., shared by all channels within a frame) times would not be properly handled by time-based subscriptions for channels other than the first.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>RBNB Window Minimized</b></h3>
<p class="p3">On Windows machines, the RBNB window is now started in a minimized state.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Failed Data Connections When Lots of Clients Simultaneously Connect</b></h3>
<p class="p3">Due to a lack of synchronization, the server could fail to properly link a data connection to its control connection when lots of clients simultaneously connect to the server. The result would be that the client would fail to connect and the server would eventually time out the client handler.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Shutting Down a Source During Data Retrieval</b></h3>
<p class="p3">Under certain circumstances, it was possible for the RBO handling a source client to go through its shutdown process while a NBO was in the middle of retrieving data. This would result in the NBO getting locked up waiting to get data that had been deleted. This has been fixed so that the NBO gets no data from the source.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improperly Aborted Remote Connections</b></h3>
<p class="p3">If the local side of a request for remote data terminated while that request was being set up, a connection between the local and remote servers could be stranded. This has been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Stranded Remote Monitor/Subscribe Connections</b></h3>
<p class="p3">If the local side of a monitor or subscribe request terminated, it could leave an active stranded connection between the two servers. The connection used up resources trying to deliver responses to the request to a non-existent client. The connection is now terminated.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Lockups Due to Routing Failures</b></h3>
<p class="p3">A number of changes have been made to ensure that servers detect (within a timeout period of a couple of minutes) routes that have failed (or which never were fully established).</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Failure to Find Routes in Hierarchies of Servers</b></h3>
<p class="p3">A bug in the code that determined where next to deliver a message that is going up a chain of parents and children caused routing problems.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Delivery of Routed Messages to Terminated Clients</b></h3>
<p class="p3">If the local client of a request made to a routed server was closed before the response to that request could be delivered, the response would be sent back to the remote server. The result was that the route between the two servers would lock up because all of the connections were occupied with trying to deliver the message. The local server now reports that it failed to find the local client, which forces the remote handler to shut down as well.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Properly Handle Client Shutdowns During Initialization</b></h3>
<p class="p3">If a client application shuts down while the connection between it and the server is being established, the server might not properly clean up its side of the failed connection. The result was that there was a client handler in the server that could not be terminated. This has been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Properly Handle Exceptions During Routing Initialization</b></h3>
<p class="p3">If an exception occured when a route is being established between a child and a parent server, the parent server might not properly clean up its side of the failed route. The result was that the parent server would report a route where there was none. Attempts to use it would lock up. Attempts to terminate it would fail. This has been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improved Error Message Reporting</b></h3>
<p class="p3">Some exception and error messages were being quietly swallowed by the RBNB server. These messages now appear in the log and on the console.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Delivering Error Messages via Failed Connections</b></h3>
<p class="p3">The server was attempting to deliver an error message reporting a failed connection via that connection. The result was that the message would never be delivered and the client handler in the server would never properly exit. The server no longer tries to deliver such messages.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.2B6 to V2.2B6a Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed Bug in Server-Side Data Retrieval</b></h3>
<p class="p3">A timing problem could cause the server side for a sink to lock up if an RBO from which it was retrieving data terminated during that retrieval.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed Bug in Server-Side PlugIn Shutdown</b></h3>
<p class="p3">A bug in the server-side shutdown code for plugins would cause a stranded plugin object in the server. The client-side would properly exit.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.2B5 to V2.2B6 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Extended Start Requests</b></h3>
<p class="p3">When requesting data, it is now possible to ask that the server retrieve an additional data point before the specified start time of the request if there is no data point exactly at that time.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Clearing RBO Caches</b></h3>
<p class="p3">The new <span class="s1">ClearCache</span> method can been called to clear out the contents of an RBO's cache. The data is flushed to the archive and then removed from the server's memory, reducing the RBO's footprint.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Asynchronous Log Display</b></h3>
<p class="p3">The display of log messages to the console is now asynchronous to the rest of the server. If the console output be blocked for some reason, the server still continues to operate normally, although some messages may not be displayed (they are still logged if logging is on).</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed Metrics History</b></h3>
<p class="p3">Metrics data for detached connections was being lost.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Reduced Memory Usage for "Live" Archives</b></h3>
<p class="p3">When data is removed from the cache, it is supposed to be removed from memory. With an archvie, some of this memory was not being released properly.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improved Handling of Data Retrieval Errors within the Server</b></h3>
<p class="p3">The server now properly reports that no data is available from RBOs that close during the data retrieval process.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improved Error Handling during Connection Process</b></h3>
<p class="p3">If a client disconnected during the connection process, it was possible for it to leave its server side handler in a blocked state. The server side handler now times out and shuts down.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improved rbnbAdmin Exit Handling</b></h3>
<p class="p3">The rbnbAdmin application now properly exits even if its connection to the RBNB server has been locked up due to problems on the server side.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Enhanced ProxyPlugIn</b></h3>
<p class="p3">The proxy plugin has been enhanced to provide a number of new features.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Echo Message PlugIn</b></h3>
<p class="p3">A new plugin has been added that echoes messages it receives to the console. It is intended as an example of how to write a plugin.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.2B4 to V2.2B5 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Absolute Requests for Duration of Zero (0)</b></h3>
<p class="p3">Absolute (specific time) requests with a duration of zero (0) now retrieve the first data point at or before the time specified. Previous versions would only retrieve a data point if there was one exactly at the specified time. This mode can be turned off using the new -C V2.1 flag.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Subscribe by Time</b></h3>
<p class="p3">A new capability has been added that allows a sink to specify the nominal duration to retrieve on each fetch call when subscribing (not monitoring). This allows the sink to get data in chunks that are not constrained by the source-specified frame duration (except in so far as the latter is all the data that is available).</p>
<p class="p3">This capability addresses the <span class="s2">archive subscription problem</span> described in the release notes for V2.2B4 as the reframing does not effect times, just frames.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed Registration Problem</b></h3>
<p class="p3">A problem in the code that computes the registration time information for a source would fail to consistently update the limits for the second and subsequent channel groups. This would result in requests for "newest" failing to properly get the latest data.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed Backwards Going Time Problem in Appending to Archives</b></h3>
<p class="p3">A bug in the code that determines the time of the newest data in an archive loaded for append resulted in the code improperly allowing time to back up.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed Further Deadlock Problems</b></h3>
<p class="p3">A variety of deadlock or runaway CPU problems that effect multiple, simultaneous sinks retrieving data from a single source have been fixed, improving on the work done in V2.2B4.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed the Frame Indexing in Append Mode</b></h3>
<p class="p3">The frame index for assigned to new frames being added to an existing archive (append mode) was not set to be after the last frame in the archive. The result is that such neither monitor nor subscribe (frame-based) would work properly on such archives. This has been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Bug in Archiving Data with a Zero (0) Duration and Multiple Points per Time</b></h3>
<p class="p3">Archives containing data where a single time and zero (0) duration spans multiple points did not work correctly in earlier versions.  The time information for the second and subsequent points would be lost and a time of 0 would be assigned, resulting in unusable archives.</p>
<p class="p3">This is an uncommon format for data.  It requires that the source specify a time interval with a duration of zero (0) and then provide a data array containing more than one point.  For ecample, the following Java code would produce the problem:</p>
<p class="p15">cmap.PutTime(1.,0.);                     // Set a time of 1 with a duration of 0.<span class="s3"> <br>
</span>float[] data = { 1.F, 2.F, 3.F, 4.F };   // Create a data array containing the values 1 to 4.<span class="s3"> <br>
</span>cmap.PutDataAsFloat32(0,data);           // Add that data to the channel.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.2B3 to V2.2B4 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>The Cache and Archive Sizes are Changed when Reconnecting to an Open Archive</b></h3>
<p class="p3">When using the reconnect capability (close an archive with keep cache and then reopen for append), the cache and archive sizes are now changed to match those requested by the reconnecting client, rather than silently using the internal values.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Known Issues with Streaming (Frame-based) from Archives</b></h3>
<p class="p3">There are a number of problems when streaming (subscribing/monitoring) datastored in archives. The reframing of archives causes the loss of information needed to be able to properly stream. These problems can be alleviated by turning off reframing at the cost of some performance.</p>
<p class="p3">Note that reframing is on or off for the server as a whole and must be set when writing the archives (it isn't required for reading them back).</p>
<p class="p3">Reframing can be turned off by defining a Java system property called "noreframe" (the value is irrelevant so long as the property is defined). The property can be defined when the Java Virtual Machine (JVM) is launched by using the following command:</p>
<p class="p3">prompt&gt; java -Dnoreframe=true </p>
<p class="p3">For those using the Windows RBNB icon to launch the system, you need to define CATALINA_OPTS as "-Dnoreframe=true".</p>
<p class="p3">For those using the Unix shell scripts, add "-Dnoreframe=true" to the definition of CATALINA_OPTS in the ${RBNBHOME}/bin/Start_Webserver.sh script.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Streaming from Oldest Limitation</b></h3>
<p class="p3">When streaming from oldest, it was possible for the code to miss frames when it reached the end of the available data and started waiting for new data to arrive. For now, the code has been modified so that it won't miss data, but it may fail to properly move forward when looking at data in a source containing multiple ring buffers.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed a Deadlock Problem with Archives</b></h3>
<p class="p3">Under some circumstances, it was possible to cause a deadlock when using archives. If the maximum number of open filesets was reached due to sources (either because of the number of sources or the number of ring buffers within one or more of sources), then the code could get into an infinite blocking state for some of the ring buffers. If a sink subsequently attempted to read from the source, it would eventually start reporting timeouts. This bug has been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed additional Deadlock Problems</b></h3>
<p class="p3">Additional problems with deadlock situations between a source and a sink, where the sink could end up blocked waiting for the source and vice-versa, have been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed Error in Versioning Feature Support Logic</b></h3>
<p class="p3">A timing error in the code that is supposed to check to see if a feature is supported could unexpectedly cause the code to temporarily think a feature was not supported during startup.  In combination with the load all archives (-F) flag on the server, this error would result in some archives failing to load without any indication of a problem.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed a Problem with Loading All Archives</b></h3>
<p class="p3">An additional problem with loading archives was discovered when the number of archives to be loaded is large.  Some archives might fail to load because of a limit on the number of simultaneous new connections to the server. The code now retries the attempt to load the archive until it either loads, fails for a reason other than a rejected connection, or the server exits.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improved Automatic Re-establish Routing Logic</b></h3>
<p class="p3">Under some circumstances, there was an opportunity for a deadlock situation in the code that re-establishes a routing connection between a child and parent server.  This has been fixed.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.2B2 to V2.2B3 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed Data Retrieval Bug Caused by Deleting a Channel</b></h3>
<p class="p3">When attempting to retrieve data from an archive that had a channel deleted out of it, the V2.2B2 code might either fail to find valid data or might get an exception. This has been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Fixed Source Connection Shutdown Code</b></h3>
<p class="p3">The code that was supposed to close down a source with an archive had some problems. In particular, if the source application disconnected, but told the server to keep the cache and archive loaded, then the only way to close the server side properly was to re-connect to the source (using "append" mode) and then do a disconnect with keep cache set <span class="s1">false.</span></p>
<p class="p3">Using rbnbAdmin to attempt to terminate the server side of the connection would not have any effect. Shutting down the server would leave the archive in a bad state.</p>
<p class="p3">These problems have been fixed in this release.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improved Archive Recovery</b></h3>
<p class="p3">A number of improvements have been made to the archive recovery code to allow it to recover from a broader range of damaged archives. Further work in this area is planned for the next release.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improved Simultaneous Access to Archives</b></h3>
<p class="p3">Improvements to the server's handling of limited resources when multiple sources and sinks simultaneously access archives have been made. These reduce problems with thrashing and long-term lockouts.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.2B1 to V2.2B2 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Documentation Updated</b></h3>
<p class="p3">The documentation has been updated to reflect changes made to the code.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebTurbine Port Changed to 80</b></h3>
<p class="p3">The default port for the WebTurbine has been changed from 8080 to 80. UNIX users should note that this change requires that the WebTurbine be launched with root privileges. Alternatively, you can change the port as noted below. UNIX users or people who are already running a web server on port 80 can change the port to something else. To do this, dit the file 'server.xml' found in {installation directory}/jakarta-tomcat-4.1.21/conf directory.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Messaging Host Times Fixed</b></h3>
<p class="p3">Times in the V2.2B1 message host were stored in milliseconds since 1970 rather than the standard seconds since 1970. This has been fixed.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.1 to V2.2B1 Changes</b></h2>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Deleting Channels</b></h3>
<p class="p3">Channels can now be deleted via the Simple API (SAPI) or via the WebDAV interface. Note: channels created via the WebDAV interface only have their contents deleted, not the channel itself. This will be fixed in a future release.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Messaging</b></h3>
<p class="p3">Messaging allows applications to send messages to unknown recipients via a central host. It represents a generalization of the Chat capability. <br>
Messaging is supported through the new com.rbnb.message.Message class and the messaging host. The latter can be launched from the Web page.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Proxy Source</b></h3>
<p class="p3">The proxy source allows programs that support output to a TCP socket to connect to the RBNB server. When launched from the Web page, the proxy source requests a description of the data and sets up a server socket. Connect your application's output to the proxy source and your data appears in the RBNB.</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V2.0 to V2.1 Changes</b></h2>
<p class="p3">Version 2.1 is a functional (as opposed to simply bug fix) revision of the RBNB system, with the following significant features.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Folders in Registration ChannelMaps</b></h3>
<p class="p3">In order to provide support for folders, ChannelMaps returned by registration requests now include folders, which are denoted by a trailing slash (/). PlugIns and Sources may register folders by including a trailing slash on the name added to a ChannelMap.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Multiple Ring Buffers per Source</b></h3>
<p class="p3">The new V2.1 source handler (RBO) now provides multiple ring buffers per source, rather than just a single one as used in previous releases. This capability:</p>
<ul class="ul1">
  <li class="li9">Places unrelated groups of channels into separate ring buffers,<span class="Apple-converted-space"> </span></li>
  <li class="li9">Protects data for channels that are updated rarely or never at all from being overwritten by new data for unrelated, higher-speed channels,<span class="Apple-converted-space"> </span></li>
  <li class="li9">Changes the monotonically increasing time requirement from a per source requirement to a per ring buffer requirement,<span class="Apple-converted-space"> </span></li>
  <li class="li3">V2.1 automcatically recovers V2.0 archives.<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Reconnecting to Archives</b></h3>
<p class="p3">The new V2.1 source handler (RBO) now allows source applications to reconnect to an archive. This allows a source application to come and go without removing the data from the server.</p>
<p class="p3">When a source application that has an archive disconnects from the server, it may leave the archive loaded in the server by setting both the keepCache and keepArchive flags. The source application (or another using the same password) may subsequently reconnect to the archive by specifying that it wishes to append to the archive. The source handler in the server never shuts down, leaving the archived data available to all sinks even while the source application is disconnected.</p>
<p class="p3">The server now automatically selects keepCache and keepArchive if it detects a problem with the TCP socket connection between a source handler and the source application using an archive. This ensures that data is not removed from the server if the source application crashes or loses connectivity (such as when a wireless connection goes out of range).</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improved Error Handling</b></h3>
<p class="p3">The server now catches and handles errors (such as out of memory) by shutting down the application handler that caught the error. If the application is a source writing to an archive, the server attempts to save all data it has received.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Playback from Archives</b></h3>
<p class="p3">An obscure bug in the playback code could result in some data to appear to be missing, although the data is actually in the archive. This bug has been fixed.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>New Release of the Jakarta-Tomcat Web Server</b></h3>
<p class="p3">Packaged with the V2.1 release is version 2.1.21 of the Jakarta Tomcat Web Server.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>WebDAV Support for Multiplexed Data</b></h3>
<p class="p3">The WebDAV interface now supports multiplexed data, by automatically demultiplexing into a specified number of channels.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Known Issues</b></h3>
<p class="p3">ChannelMaps that contain channels with data as well as channels without cannot be used when making requests.  The following fragment is not legal:</p>
<p class="p13">import com.rbnb.sapi.*;<span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p13">...<span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p13">Sink snk = new Sink();<span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p13">snk.OpenRBNBConnection('localhost:3333','mySink');<span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p13">ChannelMap cmap = new ChannelMap();<span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p13">cmap.Add('rbnbSource/c0');<span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p13">cmap.Add('plugin/c1');<span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p13">cmap.PutDataAsString(1,'Message to plugin.");<span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p13">snk.Request(cmap,0.,0.,'newest');</p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>V1 to V2 Changes</b></h2>
<p class="p3">Version 2 is a major revision of the RBNB system, with the following significant features.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>New Licensing Model - Free to Developers and End Users</b></h3>
<p class="p3">The new V2 licensing model is designed to promote the widespread deployment of RBNB technology:</p>
<ul class="ul1">
  <li class="li9"> Free unrestricted developer and end-user license<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9"> Negotiated right-to-distribute OEM license<span class="Apple-converted-space"> </span></li>
</ul>
<p class="p3">If you want to bundle RBNB with your product or custom solution, please contact us to discuss the terms of an OEM redistribution agreement.</p>
<p class="p3">Creare offers RBNB consulting services, such as:</p>
<ul class="ul1">
  <li class="li9"> Development support<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9"> Custom features<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9"> System integration<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9"> Training<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Web Integration</b></h3>
<p class="p3">The new WebTurbine<span class="s4"><sup>TM</sup></span> interface enables:</p>
<ul class="ul1">
  <li class="li9">WebDAV compatible<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9">Browser access to RBNB applications and documentation<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9">Run and configure RBNB clients as Web servlets<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9">Browser access (view/save) to RBNB channel data<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9">Build your own custom browser interface to RBNB<span class="Apple-converted-space"> </span></li>
</ul>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Improved Developer API</b></h3>
<p class="p3">The new Application Programming Interface (API) employs simple channelMap and client objects.  There are no more "ring buffer types".  Timestamps are simple double-precision vectors.  Efficiency is retained or enhanced while greatly reducing complexity.</p>
<p class="p3">Although not source-compatible with the V1 API, you will find it straight-forward (and refreshingly easy) to port old applications to the new system.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Powerful Application "PlugIns"</b></h3>
<p class="p3">Use your browser to configure and deploy a distributed data processing system. Example PlugIns include:</p>
<ul class="ul1">
  <li class="li9"> Chat with other users (rbnbChat)<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9"> Publish local disk files as RBNB channels (rbnbFolder)<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9"> Buffered routing to minimize network traffic (rbnbBufferedRoute)<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9"> "Virtual Sources" consolidate and sequence remote sources and PlugIns (rbnbVSource)<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9"> Browser proxy cache to store and retrieve Web content via RBNB (rbnbWebCache)<span class="Apple-converted-space"> </span></li>
</ul>
<ul class="ul1">
  <li class="li9"> Make PNG strip charts of numerical vector data<span class="Apple-converted-space"> </span></li>
</ul>
<p class="p3">Develop and deploy your own RBNB PlugIns with the new easy to use V2 API.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Peer to Peer Solution</b></h3>
<p class="p3">With hierarchical routing of "personal" RBNB servers, the V2 RBNB provides a true "Peer to Peer" (P2P) solution.  Benefits include data and processing "at the client", while being able to locate and publish to "peers" via an RBNB address that is independent of the IP/DNS address tied to a physical location or ISP.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>New "Rmap" Core Engine</b></h3>
<p class="p3">In the old RBNB V1, data channels were relatively "flat" structures.  In RBNB V2, Rmaps are hierarchical objects comprised of name, data, timestamp and optional (recursive) child Rmaps.  For example, channel groups can share inherited metadata, or use multi-tiered RBNB channels to directly reflect the structure of file systems or Web URLs. <br>
  <br>
 </p>
</body>
</html>
